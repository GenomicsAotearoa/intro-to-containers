# 6. Building Container Images

!!! circle-question "Overview"

    Questions

    - How do I create my own Apptainer images?

    Objectives

    - Understand the different Apptainer container file formats.
    - Understand how to build and share your own Apptainer containers.


So far youâ€™ve been able to work with Apptainer from your own user account as a non-privileged user.

This part of the Apptainer material requires that you use Apptainer in an environment where you have administrative (root) access.

There are a couple of different ways to work around this restriction.

<table>
<thead>
  <tr>
    <th></th>
    <th></th>
    <th>pros</th>
    <th>cons</th>
  </tr>
</thead>
<tbody>
  <tr>
    <td>Install Apptainer locally on a system where you do have administrative access (then then copy to HPC).</td>
    <td></td>
    <td><ul><li>Building a container locally first is great for testing.</li></ul></td>
    <td><ul><li>Not possible for many people.</li><li>Local machine must have same architecture as HPC.</li><li>Container image might be quite large and take a long time to copy.</li></ul></td>
  </tr>
  <tr>
    <td>Build your container from within another container</td>
    <td></td>
    <td><ul><li>No root access required.</li></ul></td>
    <td><ul>
    <li>A bit contrived.</li>
    <li>Requires already having a built container with Apptainer installed.</li></ul></td>
  </tr>
  <tr>
    <td>Use a 'remote build service' to build your container</td>
    <td></td>
    <td><ul><li>Convenient. Just one command to run.</li></ul></td>
    <td><ul><li>Requires access to a remote build service.</li><li>Build image must still be downloaded over network.</li>
    <li>Not currently available for Apptainer</li></ul></td>
  </tr>
  <tr>
    <td>Simulate root access using the <code>--fakeroot</code> feature</td>
    <td></td>
    <td><ul><li>Convenient. Just an added flag.</li></ul></td>
    <td><ul><li>Not possible with all operating systems. (On NeSI, only our newer nodes with Rocky8 installed have this functionality.)</li></ul></td>

  </tr>
</tbody>
</table>